<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Information - Responsive</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/extended_view.css">
</head>
<body>
    <%- include("partials/navbar.ejs") %>
    <div class="main-app-container">

        <nav class="nav-container">
            <button class="nav-item" onclick="window.location.href='/guest/flight-view'">
                FLIGHT VIEW
            </button>
            <button class="nav-item" onclick="window.location.href='/guest/tabular-view'">
                TABULAR VIEW
            </button>
            <button class="nav-item active">
                EXTENDED VIEW
            </button>
        </nav>

        <main class="content-area">

            <section class="info-section">
                <div class="section-header">
                    <h2>FLIGHT INFORMATION</h2>
                </div>
                <div class="responsive-grid grid-header-row">
                    <div class="grid-cell header-cell">FLIGHT NUMBER</div>
                    <div class="grid-cell header-cell">GATE</div>
                    <div class="grid-cell header-cell">DEPARTURE AIRPORT</div>
                    <div class="grid-cell header-cell">DEPARTURE TIME</div>
                    <div class="grid-cell header-cell">ARRIVAL AIRPORT</div>
                    <div class="grid-cell header-cell">ARRIVAL TIME</div>
                </div>
                <div class="responsive-grid data-row">
                    <div class="grid-cell data-cell"><%= flightInfo ? flightInfo.flight_number : 'N/A' %></div>
                    <div class="grid-cell data-cell"><%= flightInfo ? flightInfo.gate : 'TBD' %></div>
                    <div class="grid-cell data-cell"><%= flightInfo ? flightInfo.dept_airport : 'N/A' %></div>
                    <div class="grid-cell data-cell"><%= flightInfo ? flightInfo.dept_time : 'N/A' %></div>
                    <div class="grid-cell data-cell"><%= flightInfo ? flightInfo.arrival_airport : 'N/A' %></div> 
                    <div class="grid-cell data-cell"><%= flightInfo ? flightInfo.arrival_time : 'N/A' %></div>
                </div>
                
            </section>

            <section class="info-section">
                <div class="section-header">
                    <h2>CABIN CREW</h2>
                </div>
                <div class="responsive-grid grid-header-row">
                    <div class="grid-cell header-cell">NAME</div>
                    <div class="grid-cell header-cell">GENDER</div>
                    <div class="grid-cell header-cell">RANK</div>
                    <div class="grid-cell header-cell">NATIONALITY</div>
                    <div class="grid-cell header-cell">LANGUAGE</div>
                    <div class="grid-cell header-cell">AGE</div>
                </div>
                <div class="responsive-grid data-row">
                    <% if (staff.cabinCrew && staff.cabinCrew.length > 0) { %>
                        <% staff.cabinCrew.forEach(function(c){ %>
                    <div class="grid-cell data-cell"><%= c.first_name %> <%= c.last_name %></div>
                     <div class="grid-cell data-cell"><%= c.gender %></div>
                     <div class="grid-cell data-cell"><%= c.rank %></div>
                     <div class="grid-cell data-cell"><%= c.nationality %></div>
                     <div class="grid-cell data-cell"><%= c.speaks %></div>
                     <div class="grid-cell data-cell"><%= c.birth_date %></div>
                     <% })} %>
                </div>
            </section>

            <section class="info-section">
                <div class="section-header">
                    <h2>PILOTS</h2>
                </div>
                <div class="responsive-grid grid-header-row compact-text">
                    <div class="grid-cell header-cell">NAME</div>
                    <div class="grid-cell header-cell">GENDER</div>
                    <div class="grid-cell header-cell">RANK</div>
                    <div class="grid-cell header-cell">NATIONALITY</div>
                    <div class="grid-cell header-cell">LANG</div>
                    <div class="grid-cell header-cell">AGE</div>
                </div>
                <div class="responsive-grid data-row">
                    <% if (staff.pilot && staff.pilot.length > 0) { %>
                         <% staff.pilot.forEach(function(p) { %>
                    <div class="grid-cell data-cell"><%= p.first_name %> <%= p.last_name %></div>
                     <div class="grid-cell data-cell"><%= p.gender %></div>
                     <div class="grid-cell data-cell"><%= p.rank %></div>
                     <div class="grid-cell data-cell"><%= p.nationality %></div>
                     <div class="grid-cell data-cell"><%= p.speaks %></div>
                     <div class="grid-cell data-cell"><%= p.birth_date %></div>
                     <% })} %>
                </div>
            </section>

            <section class="info-section">
                <div class="section-header">
                    <h2>CHEFS</h2>
                </div>
                <div class="responsive-grid-chef grid-header-row compact-text">
                    <div class="grid-cell header-cell" >NAME</div>
                    <div class="grid-cell header-cell" id="cook_title">CAN COOK</div>
                </div>
                <div class="responsive-grid-chef data-row">
                    <% if (staff.chef && staff.chef.length > 0) { %>
                        <% staff.chef.forEach(function(c){ %>
                    <div class="grid-cell data-cell"><%= c.first_name %> <%= c.last_name %></div>
                     <div class="grid-cell data-cell" id="cook_description"><%= c.dishes %></div>
                    <% })} %>
                </div>
            </section>

            <section class="info-section">
                <div class="section-header">
                    <h2>PASSENGERS</h2>
                </div>
                <div class="responsive-grid grid-header-row">
                    <div class="grid-cell header-cell">PASSPORT NUMBER</div>
                    <div class="grid-cell header-cell">NAME</div>
                    <div class="grid-cell header-cell">AGE</div>
                    <div class="grid-cell header-cell">NATIONALITY</div>
                    <div class="grid-cell header-cell">GENDER</div>
                    <div class="grid-cell header-cell">NOTES</div>
                </div>
                <div class="responsive-grid data-row">
                    <% if (passengers && passengers.length > 0) { %>
                        
                            <% passengers.forEach(function(p) { %>
                        <div class="grid-cell data-cell"><%= p.passport_number %></div>
                        <div class="grid-cell data-cell"><%= p.first_name %> <%= p.last_name %></div>
                        <div class="grid-cell data-cell"><% p.age %></div>
                        <div class="grid-cell data-cell"><% p.nationality %></div>
                        <div class="grid-cell data-cell"><% p.gender %></div>
                        <div class="grid-cell data-cell"><% p.notes %></div>
                    <% }) %>
                    <% } else { %>
                        <div class="grid-cell data-cell" style="grid-column: span 3;">No passengers found</div>
                    <% } %>
                </div>
            </section>

        </main>
    </div>
</body>
</html>